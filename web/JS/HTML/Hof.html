<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Higher-Order Functions & Callbacks ‚Äî Interactive</title>
<link rel="stylesheet" href="../../CSS/styleJS3.css">
</head><style>
  h1, h2, h3, h4 {
    color: #007acc;
  }

</style>
</head>
<body>
<div class="container" id="app">
  <header>
    <div class="brand">
      
      <div>
      <h1 class="muted">Higher-Order Functions (HOFs)</h1>
<div class="card">
      <h3>What is a Higher-Order Function (HOF)?</h3>
      <p>A Higher-Order Function is a function that does one or both of the following:</p>
      <ul>
        <li>Takes another function as an argument (input).</li>
        <li>Returns a function as its output.</li>
      </ul>
      <p>It‚Äôs like giving instructions to a chef (a function). You can either provide specific ingredients (another function) or let the chef create a custom recipe (return a new function).</p>

      <h3>Why Use Higher-Order Functions?</h3>
      <ul>
        <li>Code Reusability: Write less, do more!</li>
        <li>Flexibility: Change the behavior of functions dynamically.</li>
        <li>Readability: Clearer and more concise code.</li>
      </ul>
</div>
      </div>
    </div>
  </header>

  <main>
    <div class="card">
      <p class="muted">Higher-Order Functions (HOFs) and Callback Functions ‚Äî theory and examples.</p>
</div>
<div class="card">
      <!-- Example 1 -->
      <h2 class="section">Example 1 ‚Äî Function as Argument (Callback)</h2>
       <p class="muted">Passing a function as an argument and executing it inside another function.</p>
      <div class="example">
        <textarea id="edit1" class="code-edit">// greet callback
function greet(name) {
  return `Hello, ${name}!`;
}
function processUser(name, callback) {
  return callback(name);
}
processUser('Alice', greet);</textarea>
        <div class="actions">
          <button class="run-btn" data-run="1">Run Example</button>
          <button class="reset-btn" data-reset="1">Reset</button>
          <button class="copy-btn" data-copy="#edit1">Copy</button>
        </div>
        <div id="out1" class="output"></div>
      </div></div>
<div class="card">
      <!-- Example 2 -->
       <h2 class="section">Example 2 ‚Äî Function Returning Another Function</h2>
      <p class="muted">createMultiplier returns a new function customized by multiplier.</p>
      <div class="example">
        <textarea id="edit2" class="code-edit">function createMultiplier(multiplier) {
  return function(number) {
    return number * multiplier;
  };
}
const double = createMultiplier(2);
const triple = createMultiplier(3);
`double(5) ‚Üí ${double(5)}; triple(5) ‚Üí ${triple(5)}`;</textarea>
        <div class="actions">
          <button class="run-btn" data-run="2">Run Example</button>
          <button class="reset-btn" data-reset="2">Reset</button>
          <button class="copy-btn" data-copy="#edit2">Copy</button>
        </div>
        <div id="out2" class="output"></div>
      </div></div>
<div class="card">
      <!-- Example 3 -->
      <h2 class="section">Example 3 ‚Äî map(), filter(), reduce()</h2>
      <p class="muted">Common HOFs for array transformations & aggregation.</p>
      <div class="example">
        <textarea id="edit3" class="code-edit">const cart = [100, 200, 300];
const discounted = cart.map(p => p * 0.9);
const total = discounted.reduce((a,b)=>a+b,0);
({cart, discounted, total});</textarea>
        <div class="actions">
          <button class="run-btn" data-run="3">Run Example</button>
          <button class="reset-btn" data-reset="3">Reset</button>
          <button class="copy-btn" data-copy="#edit3">Copy</button>
        </div>
        <div id="out3" class="output"></div>
      </div></div>
<div class="card">
      <!-- Example 4 -->
      <h2 class="section">Example 4 ‚Äî forEach()</h2>
      <p class="muted">Perform action for each array element (no return value).</p>
      <div class="example">
        <textarea id="edit4" class="code-edit">const fruits = ["apple","banana","cherry"];
let logs = "";
fruits.forEach((f,i)=> logs += `${i+1}. ${f}\n`);
logs;</textarea>
        <div class="actions">
          <button class="run-btn" data-run="4">Run Example</button>
          <button class="reset-btn" data-reset="4">Reset</button>
          <button class="copy-btn" data-copy="#edit4">Copy</button>
        </div>
        <div id="out4" class="output"></div>
      </div>
      </div>
<div class="card">
      <!-- Example 5 -->
      <h2 class="section">Example 5 ‚Äî Callback Demo</h2>
       <p class="muted">Passing greet to processUser and logging result.</p>
      <div class="example">
        <textarea id="edit5" class="code-edit">function greetLog(name){ return `Hello, ${name}!`; }
function processUserReturn(name,callback){ return callback(name); }
processUserReturn('Ayush',greetLog);</textarea>
        <div class="actions">
          <button class="run-btn" data-run="5">Run Example</button>
          <button class="reset-btn" data-reset="5">Reset</button>
          <button class="copy-btn" data-copy="#edit5">Copy</button>
        </div>
        <div id="out5" class="output"></div>
      </div></div>
      <footer>Made for Ayush Narware ‚Ä¢ Edit the examples and practice ‚Äî happy coding! üöÄ</footer>
    
  </main>
</div>

<script>
  const originals = {};
  for(let i=1;i<=5;i++) originals[i]=document.getElementById('edit'+i).value;

  function runUserCode(code){
    const logs=[];
    const console={log:(...a)=>logs.push(a.join(' '))};
    try{
      const result = eval(code);
      return {result,logs};
    }catch(e){
      return {error:e.message,logs};
    }
  }

  function writeOutput(id,data){
    const el=document.getElementById('out'+id);
    el.innerHTML="";
    if(data.error){
      el.innerHTML=`<div class="out-line out-error">‚ùå Error: ${data.error}</div>`;
    }else{
      data.logs.forEach(l=>el.innerHTML+=`<div class="out-line out-info">${l}</div>`);
      el.innerHTML+=`<div class="out-line out-success">‚úÖ Result: ${typeof data.result==='object'?JSON.stringify(data.result,null,2):data.result}</div>`;
    }
  }

  document.querySelectorAll('.run-btn').forEach(b=>b.onclick=()=>{
    const i=b.dataset.run;
    writeOutput(i,runUserCode(document.getElementById('edit'+i).value));
  });

  document.querySelectorAll('.reset-btn').forEach(b=>b.onclick=()=>{
    const i=b.dataset.reset;
    document.getElementById('edit'+i).value=originals[i];
    document.getElementById('out'+i).innerHTML='<div class="out-line out-info">Reset to default code ‚Äî click Run</div>';
  });

  document.querySelectorAll('.copy-btn').forEach(b=>b.onclick=()=>{
    const id=b.dataset.copy;
    navigator.clipboard.writeText(document.querySelector(id).value);
    b.textContent='Copied!';
    setTimeout(()=>b.textContent='Copy',1000);
  });
</script>
</body>
</html>
